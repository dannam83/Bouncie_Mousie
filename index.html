<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Mouse Bounce</title>

    <style media="screen">
    canvas {
      border: 2px solid blue;
    }
    .gameboard-div {
      display: flex;
      justify-content: center;
    }
    </style>
   </head>

   <body onload="drawBall()">

     <div class="gameboard-div">
       <canvas id="canvas" width="400" height="500"></canvas>

     </div>

     <script type="text/javascript" >

       function drawBall() {
         var canvas = document.getElementById('canvas');
         var ctx = canvas.getContext('2d');
         var raf;
         var gravity = 0.25;
         var ball = {
           x: 200,
           y: 460,
           vx: 0,
           vy: 14,
           radius: 15,
           color: 'red',
           draw: function() {
             ctx.beginPath();
             ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2, true);
             ctx.closePath();
             ctx.fillStyle = this.color;
             ctx.fill();
           }
         }
         function redrawBall() {
           ctx.clearRect(0,0, canvas.width, canvas.height);
           ball.vy += gravity;
           ball.x += ball.vx;
           ball.y += ball.vy;
           ball.draw();
           ball.vy += 0.25;
           if (ball.y + ball.vy > canvas.height || ball.y + ball.vy < 0) {
             ball.vy = -ball.vy;
           }

           if (ball.x + ball.vx > canvas.width + 17) {
             ball.x = -17;
           } else if (ball.x + ball.vx < -17) {
             ball.x = canvas.width + 17;
           }

           if (ball.vx < -0.2) {
             ball.vx += 0.2;
           } else if (ball.vx > 0.2) {
             ball.vx -= 0.2;
           } else {
             ball.vx = 0;
           }

           raf = window.requestAnimationFrame(redrawBall);
         }

         raf = window.requestAnimationFrame(redrawBall);

        //  canvas.addEventListener('mouseover', function(e) {
        //  });

        //  canvas.addEventListener('mouseout', function(e) {
        //    window.cancelAnimationFrame(raf);
        //  });

        window.addEventListener("keydown", moveBall, true);

        function moveBall(e) {
          switch (e.keyCode) {
            case (37):
              ball.vx -= 4;
              break;
            case (39):
              ball.vx += 4;
              break;
            default:
              null;
          }
        }
        ctx.fillRect(150, 400, 100, 100);
      }

     </script>

   </body>
</html>
